{"remainingRequest":"/Users/huijiawei/Documents/projects/hui_ui/node_modules/thread-loader/dist/cjs.js??ref--5-1!/Users/huijiawei/Documents/projects/hui_ui/node_modules/babel-loader/lib/index.js??ref--5-2!/Users/huijiawei/Documents/projects/hui_ui/node_modules/source-map-loader/index.js!/Users/huijiawei/Documents/projects/hui_ui/libs/animate/Animate.jsx","dependencies":[{"path":"/Users/huijiawei/Documents/projects/hui_ui/libs/animate/Animate.jsx","mtime":1583125318291},{"path":"/Users/huijiawei/Documents/projects/hui_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huijiawei/Documents/projects/hui_ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huijiawei/Documents/projects/hui_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huijiawei/Documents/projects/hui_ui/node_modules/source-map-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQuc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nOwppbXBvcnQgeyBpc0VxdWFsIH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IGV4cG9ydFByb3BlcnR5IGZyb20gJy4vbW90aW9uJzsKY29uc3QgU1RBVFVTX05PTkUgPSAnbm9uZSc7CmNvbnN0IFNUQVRVU19FTlRFUiA9ICdlbnRlcic7CmNvbnN0IFNUQVRVU19MRUFWRSA9ICdsZWF2ZSc7CmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFuaW1hdGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQgewogIGNvbnN0cnVjdG9yKHByb3BzKSB7CiAgICBzdXBlcihwcm9wcyk7CiAgICB0aGlzLnN0YXRlID0gewogICAgICB2aXNpYmxlOiBwcm9wcy52aXNpYmxlLAogICAgICBzdGF0dXM6IFNUQVRVU19OT05FCiAgICB9OyAvL+aYr+WQpuaOpeaUtuWIsHByb3Bz55qE5Y+Y5YyWCgogICAgdGhpcy5pc1JlY2VpdmVQcm9wcyA9IGZhbHNlOwogICAgdGhpcy4kZWxlID0gbnVsbDsKICB9IC8vIOWIneasoea4suafk++8jOmcgOimgeWujOaIkOWvueWFg+e0oOWvueS6i+S7tue7keWumu+8jOS7peWPiuWvueeKtuaAgeWvueWIpOWumgoKCiAgY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAvLyBFdmVudCBpbmplY3Rpb24KICAgIGNvbnN0ICRlbGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTsKCiAgICBpZiAodGhpcy4kZWxlICE9PSAkZWxlKSB7CiAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLiRlbGUpOwogICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJGVsZSk7CiAgICAgIHRoaXMuJGVsZSA9ICRlbGU7CiAgICB9CgogICAgbGV0IHsKICAgICAgdmlzaWJsZQogICAgfSA9IHRoaXMuc3RhdGU7CiAgICBsZXQgewogICAgICBvbkVuZAogICAgfSA9IHRoaXMucHJvcHM7CgogICAgaWYgKHZpc2libGUpIHsKICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgc3RhdHVzOiBTVEFUVVNfRU5URVIKICAgICAgfSwgKCkgPT4gewogICAgICAgICFleHBvcnRQcm9wZXJ0eS5zdXBwb3J0VHJhbnNpdGlvbiAmJiBvbkVuZCAmJiBvbkVuZCh2aXNpYmxlKTsKICAgICAgfSk7CiAgICB9CiAgfSAvLyBhbmltYXRpb25lbmTmiJbogIV0cmFuc2l0aW9uZW5k5LqL5Lu26Kem5Y+RCiAgLy8g5a6M5oiQ5a+55LqO5YWD57Sg6Kem5Y+R5a+55Yik5a6a77yM5Lul5Y+K5LqL5Lu25a6M5oiQ5ZCO54q25oCB5a+55pu05pawCgoKICBvbk1vdGlvbkVuZChldmVudCkgewogICAgaWYgKHRoaXMuJGVsZSAhPT0gZXZlbnQudGFyZ2V0KSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBsZXQgewogICAgICBvbkVuZCwKICAgICAgdmlzaWJsZTogcFZpc2libGUKICAgIH0gPSB0aGlzLnByb3BzOwogICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgIHZpc2libGU6IHBWaXNpYmxlLAogICAgICBzdGF0dXM6IFNUQVRVU19OT05FCiAgICB9LCAoKSA9PiB7CiAgICAgIG9uRW5kICYmIG9uRW5kKHBWaXNpYmxlKTsKICAgIH0pOwogIH0KCiAgYWRkRXZlbnRMaXN0ZW5lcigkZWxlKSB7CiAgICBpZiAoISRlbGUpIHJldHVybjsKICAgIGNvbnNvbGUubG9nKGV4cG9ydFByb3BlcnR5KTsKICAgICRlbGUuYWRkRXZlbnRMaXN0ZW5lcihleHBvcnRQcm9wZXJ0eS5hbmltYXRpb25FbmROYW1lLCB0aGlzLm9uTW90aW9uRW5kLmJpbmQodGhpcykpOwogICAgJGVsZS5hZGRFdmVudExpc3RlbmVyKGV4cG9ydFByb3BlcnR5LnRyYW5zaXRpb25FbmROYW1lLCB0aGlzLm9uTW90aW9uRW5kLmJpbmQodGhpcykpOwogIH0KCiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcigkZWxlKSB7CiAgICBpZiAoISRlbGUpIHJldHVybjsKICAgICRlbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihleHBvcnRQcm9wZXJ0eS5hbmltYXRpb25FbmROYW1lLCB0aGlzLm9uTW90aW9uRW5kLmJpbmQodGhpcykpOwogICAgJGVsZS5yZW1vdmVFdmVudExpc3RlbmVyKGV4cG9ydFByb3BlcnR5LnRyYW5zaXRpb25FbmROYW1lLCB0aGlzLm9uTW90aW9uRW5kLmJpbmQodGhpcykpOwogIH0KCiAgLy8g5o6l5pS2dmlzaWJsZeWPguaVsOWQju+8jOmcgOimgeS/ruaUueeKtuaAgeS7peWPigogIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7CiAgICB0aGlzLmlzUmVjZWl2ZVByb3BzID0gdHJ1ZTsKICAgIGxldCB7CiAgICAgIHZpc2libGU6IHByZXZWaXNpYmxlLAogICAgICBvbkVuZAogICAgfSA9IHRoaXMucHJvcHM7CiAgICBsZXQgewogICAgICB2aXNpYmxlCiAgICB9ID0gbmV4dFByb3BzOwogICAgbGV0IHsKICAgICAgc3RhdHVzCiAgICB9ID0gdGhpcy5zdGF0ZTsKICAgIHByZXZWaXNpYmxlICE9PSB2aXNpYmxlICYmIHRoaXMuc2V0U3RhdGUoewogICAgICBzdGF0dXM6IHZpc2libGUgPyBTVEFUVVNfRU5URVIgOiBzdGF0dXMgPT09IFNUQVRVU19MRUFWRSA/IFNUQVRVU19OT05FIDogU1RBVFVTX0xFQVZFCiAgICB9LCAoKSA9PiB7CiAgICAgICFleHBvcnRQcm9wZXJ0eS5zdXBwb3J0VHJhbnNpdGlvbiAmJiBvbkVuZCAmJiBvbkVuZCh2aXNpYmxlKTsKICAgIH0pOwogIH0KCiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykgewogICAgaWYgKHRoaXMuaXNSZWNlaXZlUHJvcHMpIHsKICAgICAgdGhpcy5pc1JlY2VpdmVQcm9wcyA9IGZhbHNlOwogICAgICByZXR1cm4gIWlzRXF1YWwodGhpcy5wcm9wcywgbmV4dFByb3BzKTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuJGVsZSk7CiAgfQoKICByZW5kZXIoKSB7CiAgICBsZXQgewogICAgICBjaGlsZHJlbiwKICAgICAgZW50ZXJDbGFzc05hbWUsCiAgICAgIGxlYXZlQ2xhc3NOYW1lLAogICAgICBldmVudFByb3BzCiAgICB9ID0gdGhpcy5wcm9wczsKICAgIGxldCB7CiAgICAgIHN0YXR1cwogICAgfSA9IHRoaXMuc3RhdGU7CiAgICBsZXQgY2xhc3NOYW1lcyA9ICcnOwoKICAgIGlmIChzdGF0dXMgPT09IFNUQVRVU19FTlRFUikgewogICAgICBjbGFzc05hbWVzID0gZW50ZXJDbGFzc05hbWU7CiAgICB9CgogICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0xFQVZFKSB7CiAgICAgIGNsYXNzTmFtZXMgPSBsZWF2ZUNsYXNzTmFtZTsKICAgIH0KCiAgICByZXR1cm4gY2hpbGRyZW4oeyAuLi5ldmVudFByb3BzLAogICAgICBjbGFzc05hbWVUeXBlOiBjbGFzc05hbWVzCiAgICB9KTsKICB9CgogIC8vIEB0cy1pZ25vcmUKICBfX3JlYWN0c3RhbmRpbl9fcmVnZW5lcmF0ZUJ5RXZhbChrZXksIGNvZGUpIHsKICAgIC8vIEB0cy1pZ25vcmUKICAgIHRoaXNba2V5XSA9IGV2YWwoY29kZSk7CiAgfQoKfQoKaWYgKHR5cGVvZiBBbmltYXRlICE9PSAndW5kZWZpbmVkJyAmJiBBbmltYXRlICYmIEFuaW1hdGUgPT09IE9iamVjdChBbmltYXRlKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKEFuaW1hdGUpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGUsICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJBbmltYXRlIiwKICAgICAgZmlsZW5hbWU6ICJsaWJzL2FuaW1hdGUvQW5pbWF0ZS5qc3giCiAgICB9CiAgfSk7Cn0KCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQgOiB1bmRlZmluZWQ7CgogIGlmICghcmVhY3RIb3RMb2FkZXIpIHsKICAgIHJldHVybjsKICB9CgogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKFNUQVRVU19OT05FLCAiU1RBVFVTX05PTkUiLCAiL1VzZXJzL2h1aWppYXdlaS9Eb2N1bWVudHMvcHJvamVjdHMvaHVpX3VpL2xpYnMvYW5pbWF0ZS9BbmltYXRlLmpzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKFNUQVRVU19FTlRFUiwgIlNUQVRVU19FTlRFUiIsICIvVXNlcnMvaHVpamlhd2VpL0RvY3VtZW50cy9wcm9qZWN0cy9odWlfdWkvbGlicy9hbmltYXRlL0FuaW1hdGUuanN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoU1RBVFVTX0xFQVZFLCAiU1RBVFVTX0xFQVZFIiwgIi9Vc2Vycy9odWlqaWF3ZWkvRG9jdW1lbnRzL3Byb2plY3RzL2h1aV91aS9saWJzL2FuaW1hdGUvQW5pbWF0ZS5qc3giKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihBbmltYXRlLCAiQW5pbWF0ZSIsICIvVXNlcnMvaHVpamlhd2VpL0RvY3VtZW50cy9wcm9qZWN0cy9odWlfdWkvbGlicy9hbmltYXRlL0FuaW1hdGUuanN4Iik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5sZWF2ZU1vZHVsZSA6IHVuZGVmaW5lZDsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["/Users/huijiawei/Documents/projects/hui_ui/libs/animate/Animate.jsx"],"names":["React","ReactDOM","isEqual","exportProperty","STATUS_NONE","STATUS_ENTER","STATUS_LEAVE","Animate","Component","constructor","props","state","visible","status","isReceiveProps","$ele","componentDidMount","findDOMNode","removeEventListener","addEventListener","onEnd","setState","supportTransition","onMotionEnd","event","target","pVisible","console","log","animationEndName","bind","transitionEndName","componentWillReceiveProps","nextProps","prevVisible","shouldComponentUpdate","componentWillUnmount","render","children","enterClassName","leaveClassName","eventProps","classNames","classNameType"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {isEqual} from 'lodash';\nimport exportProperty from './motion';\n\nconst STATUS_NONE = 'none';\nconst STATUS_ENTER = 'enter';\nconst STATUS_LEAVE = 'leave';\n\nexport default class Animate extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visible: props.visible,\n      status: STATUS_NONE,\n    };\n\n    //是否接收到props的变化\n    this.isReceiveProps = false;\n    this.$ele = null;\n  }\n\n  // 初次渲染，需要完成对元素对事件绑定，以及对状态对判定\n  componentDidMount() {\n    // Event injection\n    const $ele = ReactDOM.findDOMNode(this);\n    if (this.$ele !== $ele) {\n      this.removeEventListener(this.$ele);\n      this.addEventListener($ele);\n      this.$ele = $ele;\n    }\n    let { visible } = this.state;\n    let { onEnd } = this.props;\n    if (visible) {\n      this.setState({\n        status: STATUS_ENTER\n      }, () => {\n        !exportProperty.supportTransition && onEnd && onEnd(visible);\n      });\n    }\n  }\n\n  // animationend或者transitionend事件触发\n  // 完成对于元素触发对判定，以及事件完成后状态对更新\n  onMotionEnd(event) {\n    if (this.$ele !== event.target) {\n      return;\n    }\n    let { onEnd, visible: pVisible } = this.props;\n    this.setState({\n      visible: pVisible,\n      status: STATUS_NONE\n    }, () => {\n      onEnd && onEnd(pVisible);\n    });\n  };\n\n  addEventListener($ele) {\n    if (!$ele) return;\n    console.log(exportProperty)\n    $ele.addEventListener(exportProperty.animationEndName, this.onMotionEnd.bind(this));\n    $ele.addEventListener(exportProperty.transitionEndName, this.onMotionEnd.bind(this));\n  };\n  removeEventListener($ele) {\n    if (!$ele) return;\n\n    $ele.removeEventListener(exportProperty.animationEndName, this.onMotionEnd.bind(this));\n    $ele.removeEventListener(exportProperty.transitionEndName, this.onMotionEnd.bind(this));\n  };\n\n  // 接收visible参数后，需要修改状态以及\n  componentWillReceiveProps(nextProps) {\n    this.isReceiveProps = true;\n    let { visible: prevVisible, onEnd } = this.props;\n    let { visible } = nextProps;\n    let { status } = this.state;\n    prevVisible !== visible && this.setState({\n      status: visible ? STATUS_ENTER:(status === STATUS_LEAVE ? STATUS_NONE:STATUS_LEAVE)\n    }, () => {\n      !exportProperty.supportTransition && onEnd && onEnd(visible);\n    });\n  }\n\n  shouldComponentUpdate(nextProps) {\n    if (this.isReceiveProps) {\n      this.isReceiveProps = false;\n      return !isEqual(this.props, nextProps);\n    }\n    return true;\n  }\n\n  componentWillUnmount() {\n    this.removeEventListener(this.$ele);\n  }\n\n  render() {\n    let { children, enterClassName, leaveClassName, eventProps } = this.props;\n    let { status } = this.state;\n    let classNames = '';\n    if (status === STATUS_ENTER) {\n      classNames = enterClassName;\n    }\n    if (status === STATUS_LEAVE) {\n      classNames = leaveClassName;\n    }\n    return (\n      children({\n        ...eventProps,\n        classNameType: classNames\n      })\n    )\n  }\n}\n"]}]}